# 2018 Round D

-   Score : -
-   Rank : -

---

## A

- 区间和等于前缀和对减，双指针维护固定右端点的可行最左断点
- 用multiset记录可行区间内的前缀和，$a[r] - a[l] \leq D \Leftrightarrow a[l] \geq a[r] - D$ 

## B

- 算出坐标排个序
- 从左向右和从右向左各扫一遍即可

## C

- 差点把容斥忘光了= =
  
- 令$f(k)$表示从$m$对人中选择$k$对，并勒令他们在一起的方案数
  
- 那么根据容斥，答案就是$\sum_{i=0}^m (-1)^if(i)$
  
- 简单计数一下，$f(k) = 2^k\binom{m}{k}(2n-k)!$
  
  ​    
