# 2021 Round1 A

-   Score : 75
-   Rank : 150

---

## A

- 考虑相邻两个数字
- 根据前缀大小相等关系，以及串长的关系讨论一下就行了

## B

- 考虑Product集合内数字的和不会太大(3e4不到)
- 我们枚举Product集合的数字和，这样就知道了Sum集合的数字和
    然后对Sum集合的数字和唯一分解判断即可

## C

- 对于所有人，我们保证它们的分数过半，否则翻转所有答案即可
- 对于$N = 1$的情况，我们直接抄答案
- 对于$N = 2$的情况，我们抄分数高的那个人的答案
- 对于$N = 3$的情况
    - 我们将题目分成四个区，即ABC、AB、AC、BC，每个区的名称表示该区域名称中这些人的答案一致，剩下的人一定不同
    - 不妨假设四个区域的大小为$s_0, s_1, s_2, c_3$,枚举四个区域中人数多的一方对了几个题$c_0, c_1, c_2, c_3$
    - 那么这种情况下的方案数为$\binom{s_0}{c_0} \times \binom{s_1}{c_1} \times \binom{s_2}{c_2} \times \binom{s_3}{c_3}$
    - 对于答案的选取，总共有16种情况，即每个区域我们都可以服从多数或反其道而行之
    - 对于每个$c_0, c_1, c_2, c_3$的组合，我们将16种情况分别加上它们的贡献
    - 最后选取贡献最大的情况作为方案，除以总方案数即为期望
    - 对于$c_0, c_1, c_2, c_3$的枚举，四个变量构成了三个方程对应于三个人的得分，我们枚举一个变量解方程即可
